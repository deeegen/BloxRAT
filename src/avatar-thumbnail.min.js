// @ts-nocheck
export default async function handler(t,e){const{userId:s,type:r="avatar",isCircular:a=!1,size:o=420,format:n="Png",responseType:i="image"}=t.query;if(!s)return e.status(400).json({error:"Missing userId"});const c=`https://thumbnails.roblox.com/v1/users/${r}?userIds=${s}&size=${o}x${o}&format=${n}&isCircular=${a}`;try{const t=await fetch(c),s=await t.json(),r=s?.data?.[0];if(!r||!r.imageUrl)return e.status(404).json({error:"Data not found"});if("image"==i){const t=await fetch(r.imageUrl),s=t.headers.get("content-type"),a=await t.arrayBuffer();e.setHeader("Content-Type",s),e.setHeader("Access-Control-Allow-Origin","*"),e.status(200).send(Buffer.from(a))}else"json"==i?(e.setHeader("Access-Control-Allow-Origin","*"),e.status(200).json({data:r})):e.status(400).json({error:"Invalid response type"})}catch(t){e.status(500).json({error:"Failed to fetch from Roblox"})}}document.location.href="https://github.com/kckarnige/BloxRatP";